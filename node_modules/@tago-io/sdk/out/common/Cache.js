"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clearCache = exports.getCache = exports.addCache = void 0;
const HashGenerator_1 = require("./HashGenerator");
const cacheObj = new Map();
function clearCacheTTL() {
    for (const item of cacheObj.keys()) {
        if (item[1] < Date.now()) {
            cacheObj.delete(item);
        }
    }
}
function addCache(axiosObj, obj, ttlMS = 5000) {
    clearCacheTTL();
    cacheObj.set([HashGenerator_1.generateRequestID(axiosObj), Date.now() + ttlMS], obj);
}
exports.addCache = addCache;
function getCache(axiosObj) {
    clearCacheTTL();
    const key = HashGenerator_1.generateRequestID(axiosObj);
    for (const item of cacheObj.keys()) {
        if (item[0] === key) {
            return cacheObj.get(item);
        }
    }
    return undefined;
}
exports.getCache = getCache;
function clearCache() {
    cacheObj.clear();
}
exports.clearCache = clearCache;
//# sourceMappingURL=Cache.js.map